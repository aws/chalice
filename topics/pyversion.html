
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Python Version Support &#8212; AWS Chalice</title><link rel="stylesheet" href="../_static/bootstrap-reboot.css" type="text/css" />
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/default.css" />
    <link rel="stylesheet" href="../_static/custom-tabs.css" type="text/css" />
    

    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script type="text/javascript">
        function _scroll(subjectId) {
            var subjectElement = $(subjectId);
            var actualSubjectHeight = subjectElement.height();
            var startingPosition = subjectElement[0].getBoundingClientRect().top;
            return function() {
                var availableHeight = $(window).height() - startingPosition;
                // Subtract the scroll position to account for sticky movement.
                availableHeight += Math.min($(window).scrollTop(), 40);
                var cappedHeight = Math.min(actualSubjectHeight, availableHeight);
                if (subjectElement.css("height") !== cappedHeight) {
                    subjectElement.css("height", cappedHeight);
                }
            };
        }

        // Scroll and resize the the columns when scrolled.
        $(function() {
            var rightScroll = _scroll("#right-column > .column-body");
            var scrollFn = function() {
                rightScroll.call(this, arguments);
            };
            scrollFn();
            $(window).scroll(scrollFn);
            $(window).resize(scrollFn);
        });

        // Scroll spy to change highlighted navigation element.
        $(function() {
            var section = document.querySelectorAll(".section");
            var sections = {};
            var i = 0;
            Array.prototype.forEach.call(section, function(e) {
                sections[e.id] = e.offsetTop;
            });
            var scrollSpy = function() {
                var scrollPosition = document.documentElement.scrollTop || document.body.scrollTop;
                for (i in sections) {
                    if (sections[i] <= scrollPosition) {
                        $('#right-column .current').removeClass('current');
                        $("#right-column a[href='#" + i + "']").addClass('current');
                    }
                }
            };
            $(window).scroll(scrollSpy);
            scrollSpy();
        });
    </script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-168492171-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-168492171-3');
    </script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="AWS CloudFormation Support" href="cfn.html" />
    <link rel="prev" title="App Packaging" href="packaging.html" />
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


  </head><body>
    <header>
        <div class="header-flex width-wrapper">
            <div class="site-logo">
                <a href="../index.html">
		  <span class="logo-icon"><img src="../_static/img/chalice-logo-icon-small.png" /></span>
                </a>
            </div>

            <ul id="page-navigation">
                <li class="site-page first"><a href="../quickstart.html">Quick Start</a></li>
                <li class="site-page"><a href="../tutorials/index.html">Tutorials</a></li>
                <li class="site-page"><a href="../samples/index.html">Samples</a></li>
                <li class="site-page"><a href="../main.html">Documentation</a></li>
                <li class="site-page"><a href="https://github.com/aws/chalice">Code</a></li>
                <li class="site-search hidden-sm">
                    <form action="../search.html" method="get">
                        <input type="hidden" name="check_keywords" value="yes" />
                        <input type="hidden" name="area" value="default" />
                        <input class="search-input" autocomplete="off" type="search" name="q" placeholder="Search" />
                    </form>
                </li>
            </ul>
        </div>
    </header>
    
        
        
        <section id="page-container">
            <div class="width-wrapper flex">
                <article id="document-body">
                    
                    <ul class="rel-parents">
                    <li><a href="index.html" accesskey="U">Topics</a></li>
                    </ul>
                    
                    
  <section id="python-version-support">
<h1>Python Version Support<a class="headerlink" href="#python-version-support" title="Permalink to this headline">¶</a></h1>
<p>Chalice supports all versions of python supported by AWS Lambda, which is
currently Python 3.6 and greater.  You can see the list of
supported python versions for Lambda in their
<a class="reference external" href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-python.html">docs</a>.</p>
<p>Chalice will automatically pick which version of python to use for Lambda
based on the major version of python you are using.  You don’t have to
explicitly configure which version of python you want to use. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python --version
Python 3.6.1
$ chalice new-project test-versions
$ cd test-versions
$ chalice package test-package
$ grep -C 3 python test-package/sam.json
    &quot;APIHandler&quot;: {
      &quot;Type&quot;: &quot;AWS::Serverless::Function&quot;,
      &quot;Properties&quot;: {
        &quot;Runtime&quot;: &quot;python3.6&quot;,
        &quot;Handler&quot;: &quot;app.app&quot;,
        &quot;CodeUri&quot;: &quot;./deployment.zip&quot;,
        &quot;Events&quot;: {

# Similarly, if we were to run &quot;chalice deploy&quot; we&#39;d
# use python3.6 for the runtime.
$ chalice --debug deploy
Initiating first time deployment...
Deploying to: dev
...
&quot;Runtime&quot;:&quot;python3.6&quot;
...
https://rest-api-id.execute-api.us-west-2.amazonaws.com/api/
</pre></div>
</div>
<p>In the example above, we’re using python 3.6.1 so chalice automatically
selects the <code class="docutils literal notranslate"><span class="pre">python3.6</span></code> runtime for lambda.  If we were using python 3.9.6,
chalice would automatically select <code class="docutils literal notranslate"><span class="pre">python3.9</span></code> as the runtime.</p>
<p>Chalice will emit a warning if the minor version does not match a python
version supported by Lambda.  Chalice will select the closest Lambda version
in this scenario, as shown in the table below.</p>
<p>We strongly encourage you to develop your application using the same
major/minor version of python you plan on using on AWS Lambda.</p>
</section>
<section id="changing-python-runtime-versions">
<h1>Changing Python Runtime Versions<a class="headerlink" href="#changing-python-runtime-versions" title="Permalink to this headline">¶</a></h1>
<p>The version of the python runtime to use in AWS Lambda can be reconfigured
whenever you deploy your chalice app.  This allows you to migrate to newer
Python versions in AWS Lambda by creating a new virtual environment that uses
python3.  For example, suppose you have an existing chalice app that uses
Python 3.6</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python --version
Python 3.6.1
$ chalice deploy
...
https://endpoint/api
</pre></div>
</div>
<p>To upgrade the application to use Python 3.9, create a python3 virtual
environment and redeploy.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ deactivate
$ python3 -m venv /tmp/venv3
$ source /tmp/venv3/bin/activate
$ python --version
Python 3.9.6
$ chalice deploy
...
</pre></div>
</div>
</section>


                    
                    <section class="relations">
                        
                        <a href="packaging.html" title="previous chapter" class="previous-page clearfix hidden-xs">← App Packaging</a>
                        
                        <a href="cfn.html" title="next chapter" class="next-page clearfix">AWS CloudFormation Support →</a>
                    </section>
                    
                </article><aside id="right-column" class="side-column hidden-sm">
                    <div class="column-body">
                        <section class="sidebar">
                            
                            <section class="next-previous">
                                
                                <a href="packaging.html" title="previous chapter" class="previous-page clearfix hidden-xs">← Prev</a>
                                
                                <a href="cfn.html" title="next chapter" class="next-page clearfix">Next →</a>
                            </section>
                            
                            <ul>
<li><a class="reference internal" href="#">Python Version Support</a></li>
<li><a class="reference internal" href="#changing-python-runtime-versions">Changing Python Runtime Versions</a></li>
</ul>

                        </section>
                    </div>
                </aside></div>
        </section>
        
    
<footer id="footer">
    <div class="width-wrapper">
        <div class="copyright">
            <p>©2020, Amazon Web Services, Inc or its affiliates. All rights reserved.</p>
        </div>
    </div>
</footer>
  </body>
</html>